---
title: 基本的 CSS
category: Web
tag: CSS
author: JQiue
article: false
---

CSS 是一门样式表语言，不是标记语言，也不是编程语言，仅仅使用 HTML 编写的网页奇丑无比，需要 CSS 来帮助美化，也就是说 CSS 控制元素的样式

## 使用方式

+ 内嵌样式：在元素内部使用，通过全局属性`style`直接将 CSS 代码写到元素身上，不需要选择器，维护性较低，不推荐使用

```html
<div style="color:red;">内嵌样式</div>
```

+ 内部样式：在`<head>`标签中定义`<style>`，将样式代码写入`<style>`中，需要选择器，维护性较高

```html
<html>
  <head>
    <style>
      div {
        color: red;
      }
    </style>
  </head>
  <body>
    <div>内部样式</div>
  </body>
</html>
```

+ 外部样式：将样式代码写到一个独立的`.css`文件中，在`<head>`标签中使用`<link>`的`href`属性引入，文档和样式文件相分离，维护性最好，最推荐使用的方式

```css
/* index.css*/
div {
  color: red;
}
```

```html
<html>
  <head>
    <link href="index.css"/>
  </head>
  <body>
    <div>内部样式</div>
  </body>
</html>
```

更推荐外部样式表，一个外部 CSS 文件可以被很多网页共用，并且可以提高网页的加载速度，如果一个网页引用了一个 CSS 文件，这个文件多半在缓存区

## 语法

内部和外部中的 CSS 语法构成比较简单，主要有以下两个部分组成：

+ 选择器：选择器用于匹配对应的元素，选择器的种类众多，且可以组合使用
+ 规则集：具体定义匹配元素的样式，由具体的声明构成，声明与声明之间用`;`分隔，每一条声明由 CSS 属性和对应的属性值构成

```css
选择器 {
  属性名: 属性值;
  属性名: 属性值;
  ...
}
```

除此之外，CSS 中也支持注释语法，注释不能嵌套另一个注释

```css
/*...*/
```

## 三大特性

CSS 三大特性决定着元素的属性是如何生效的

+ 层叠性：是 CSS 处理冲突的一种能力，在同一个 CSS 样式规则中重复使用了某个属性，或不同的选择器选中后都使用了某个属性，才会发生层叠性，优先级较高的就会生效，CSS 全称就是层叠性样式表，由此可见一般

::: demo 层叠性

```html
<p class="example">层叠性</p>
```

```css
p {
  color: red;
}
.example {
  color: blue;
}
```

:::

+ 继承性：部分父元素的属性会被后代所继承，但不是所有的属性都会被继承，以`color/font-/text-/line-/list-/cursor`开头的属性会被继承，更好的利用继承性可以提高效率

::: tip
`<a>`标签中的下划线和颜色都不会继承，`<h>`标签的文字大小也不会继承
:::

+ 优先级：当多个选择器选中同一个标签，并且设置相同的属性时，如何层叠就由优先级来确定

1. 直接选中：如果是间接选中，谁离目标近就听谁的
2. 相同选择器：如果都是直接选中，并且都是同类型选择器，谁写在后面就听谁的
3. 不同选择器：如果都是直接选中，并且不是同类型的选择器，则会按照选择器的优先级来层叠

一般情况下：ID>类>标签>通配符>继承>浏览器默认

::: tip !important
`!important`用于提升某个直接选中标签的选择器中的某个属性的优先级，可以将被指定的属性提升为最高，只能用于直接选中，不能用于间接选中
:::

::: demo !important

```html
<p class="example">优先级</p>
```

```css
p {
  color: red !important; 
}
.example {
  color: blue;
}
```

:::

### 权重问题

当多个选择器混合在一起使用时，必须通过权重的计算来判断优先级：

1. ID 选择器多的优先级高，如果 ID 选择器相同则看类选择器的个数
2. 类选择器多的优先级高，如果类名选择器相同则看标签选择器的个数
3. 以此类推...
4. 如果都一样，则按照优先级第二条处理

::: warning
只有选择器直接选中的元素的才需要进行权重计算，间接选中的不算
:::

## 媒体相关的样式表

这种样式表可以用于指定的媒体类型，当处于某种类型时应用该样式表，常见的媒体类型有：

+ screen：默认值，可见的屏幕媒体
+ print：打印
+ projection：投影
+ speech：阅读器
+ braile：盲文
+ embossed：盲文印刷
+ handheld：手持设备
+ tty：打字机
+ tv：电视类型
+ all：所有输出设备

目前使用最广的就是 all、screen、print

有两种用法：

使用`link`元素的`media`属性指定类型

```html
<link src="index.css" media="screen">
<link src="index.css" media="print">
```

样式规则中使用`@media`指定类型

```css
@media screen {
  /* ... */
}
@media print {
  /* ... */
}
```

联合 CSS3 中引入的媒体查询就可以形成非常强悍的用法，通过这些技术可以根据设备的属性来应用不同的样式

## BFC 和 IFC

从理论上来讲，被包含在父元素里的元素是不会影响到父元素旁边的元素，但实际上并不是总是如此

BFC（Block Formatting Context）直译为”块级格式化上下文“，它决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用，当涉及到可视化布局的时候，BFC 提供了一个环境，元素在这个环境中按照一定规则进行布局，简而言之就是 BFC 的目的就是形成一个完全独立的空间，让空间里的子元素不会影响到外面的布局

通过 CSS 属性就可以触发BFC，最常用的触发规则有四种：

1. `float` 为 `left` 或 `right`
2. `position` 为 `absolute` 或 `fixed`
3. `overflow` 为 `auto` 或 `scroll` `hidden`
4. `display` 为 `table-cell` 或 `inline-block`

能解决的问题：  

1. 浮动元素令父元素高度塌陷
2. 解决两栏自适应布局的问题
3. 外边距垂直方向合并
