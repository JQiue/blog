---
title: 总线
category: 计算机基础
author: JQiue
---

## 计算机的总线

### 总线的概述

在生活中，常用的 USB 就是一种总线，全称“Universal Serial Bus”，译为**通用串行总线**，提供了对外连接的接口，不同的设备都可以通过 USB 接口进行连接，一般鼠标或键盘都是通过 USB 接口来连接计算机的，同时 USB 成为了接口的标准，促使了外围设备接口的统一，减少了使用成本，还有 PCI 总线，常用于主机中的外接显卡

由此看来，总线就是为了解决不同设备之间的通信问题而存在的

计算机中连接五大部件的总线叫做 IO 总线

<div align="center"><img src="https://gitee.com/jqiue/img_upload/raw/master/images/Snipaste_2020-10-11_13-53-03.png"/></div>

### 总线的分类

+ 片内总线：高集成度芯片内部的信息传输线，简化了芯片内部的线路结构，用于连接寄存器，运算器，控制器

+ 系统总线：连接计算机外围设备的信息传输线，用于连接 CPU 主内存，IO 设备等

系统总线也分为三类：数据总线，地址总线，控制总线

1. 数据总线：双向传输各个部件的数据信息，数据总线的位数（总线宽度）是数据总线的重要参数，一般与 CPU 位数相同
2. 地址总线：指定源数据或目的数据在内存中的位置，地址总线的位数与存储单元有关，如果地址总线位数=n，则寻址范围：0~2^n^
3. 控制总线：发出各种控制信号的传输线，可以监视不同部件之间的状态（就绪/未就绪）

### 总线的仲裁

仲裁是用来解决设备之间的使用冲突问题的，比如主存想要和硬盘和其他IO设备交换数据，同时硬盘和其他的IO设备都已经就绪，这个时候就产生了总线是给硬盘使用还是IO设备使用的问题，这就需要仲裁器来解决使用权的问题

#### 仲裁方式

1. 链式查询：电路复杂度低，仲裁方式简单，但是低优先级设备难以获得总线使用权，并且对电路故障敏感
2. 计时器定时查询：对设备进行编号，并使用计数器累积计数，接收到仲裁信号后，往所有设备发出计数值，计数值与设备编号一致则获得总线使用权
3. 独立请求：每个设备均有总线独立连接仲裁器，设备可单独向仲裁器发送请求和接受请求，当接受多个请求信号时，仲裁器有权按优先级分配使用权，响应快，优先顺序可动态改变，设备连线多，总线控制复杂

