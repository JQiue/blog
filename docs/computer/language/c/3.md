---
title: 数据类型
category: 编程语言
tag: C
time: 2019-03-04
author: JQiue
---

C 语言的每一个值，都属于某一种数据类型

C 语言有四大类型，基本类型有6种，构造类型有4种，剩余的就是指针类型和空类型

## 基本类型

### 整型

不带小数点的整数就是整型

1. 短整型（short）：在内存中占 2 byte，表示的整数范围较小
2. 整型（int）：在内存中占 4 byte，表示的整数范围较大大
3. 长整型（long）：在内存中占 4 byte，表示的整数范围最大

::: tip
整型的区别在于取值的范围不同
:::

在 C 语言中，整数有不同进制的表达方式

+ 二进制用`0b`表示
+ 八进制用`0`表示
+ 十进制不需要添加任何额外符号
+ 十六进制用`0x表示

```c
// 各种进制表示 16
0b10000; // 二进制
020; // 八进制
16; // 十进制
0x10; // 十六进制
```

### 浮点型

带小数点的整数就是浮点型

1. 单精度（float）：在内存中占 4 byte，小数点后面的精度相对较小

2. 双精度（double）：在内存中占 8 byte，小数点后面的精度相对较大

::: tip
浮点型的区别在于小数点后能表示多少位，因为一个数的小数越多，代表这个数字越精确
:::

### 字符型

用`''`表示，也可以用`\`开头的特殊字符序列来表示，在内存中占 1 byte

::: tip
字符在计算机中是按字符的 ASCII 值存储的，本质是个数值，输出的时候按不同的格式占位符可得到相应的显示：%c 按字符输出，%d 按整数输出，如果对字符进行数值运算，实际上是算的 ASCII 码中的对应的数值
:::

控制符|功能
---|---
\a|警报
\b|退格
\n|换行
\t|空格
\\|斜杠
\'|单引号
\"|双引号
\ddd|1-3 位 8进制表示的字符（只需用数字替换d）
\xhh|1-2 位 16进制表示的字符（x是固定的只需用数字替换h）

## 类型转换

### 自动类型转换

自动类型转换是编译器根据代码的上下文环境而自动判断的，它是一种隐式的一种类型转换

当运算符两边出现不一致的类型时，会自动将结果转换为范围更大的类型

+ char => short => int => long => long long
+ int => float => double

```c
float pi = 3.14159;
int foo, bar = 2;
foo = bar * bar * pi; // 右边表达式的结果为 float 类型，但赋值给 int 类型的变量就会舍弃精度
printf("foo = %d", foo); // 输出 12
```

::: tip
对于 printf() 函数来说，任何小于 int 类型的都会被转换成 int，float 会被自动转换为 double，但是 scanf() 函数不会，scanf() 必须要知道输入的数据类型，比如 short，就要用 %hd
:::

### 强制类型转换

有时候不需要编译器自动转换类型，而是由程序员显式的转换数据类型

```c
(float) foo; 将该变量中存储的值类型转换为 float
(float) 22; 将整型常量转换为 float
(int) 3.14; 将浮点型常量转换为 int，会丢失精度
```
