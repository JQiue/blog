---
title: 基本语法
category: 编程语言
tag: Python
time: 2020-09-16
author: JQiue
---

Python 语法即通过什么方式去编写 Python 代码，怎样写，哪些可以写，哪些不可以写

## 注释

注释用来向其他人解释某些代码的功能和作用，它可以出现在任何位置，Python 的解释器会在执行时忽略注释的内容，注释最大的作用就是提高程序的可读性，Python 支持两种注释，分别是单行注释（行注释）和多行注释（块注释）

+ 单行注释

Python 使用`#`来作为单行注释的符号，从`#`号开始到这行结束为止的所有内容都是注释

```python
# 注释内容
```

+ 多行注释

多行注释指的是一次性注释多行内容，Python 使用三个引号（单引和双引都可以）来注释多行内容

```python
'''
使用 3 个单引号作为注释的开头和结尾
这里的内容都是注释
'''

"""
使用 3 个双引号作为注释的开头和结尾
这里的内容都是注释
"""
```

::: tip
注释不是越多越好，一目了然的代码不要添加注释，否则会影响阅读性，只有初学者才会做这种事
:::

## 缩进规则

和其他语言（c，java）的不同是，python 并没有采用`{}`来分割代码块，而是采用代码缩进和冒号来区分代码块之间的层次

```python
age = int(input("输入年龄："))
if age < 18:
    print("未成年")
else age >= 18:
    print("已成年")
```

Python 是一个对缩进非常敏感的语言，同一个级别的代码块缩进量必须一样，否则会报`SyntaxError`错误，所以编写 Python 时要确定好缩进的数量，一般为4个空格

## 标识符

标识符就是一个名字，它主要是为变量，函数，类，模块以及其他对象的起一个名称便于使用，命名规则如下：

1. 由**英文字母**，**数字**和**下划线**组成，但第一个字符不能是数字
2. 不能是 Python 中的**关键字**和**保留字**
3. 区分大小写

:::tip
关键字是 Python 赋予特殊语义的单词，也可以说是内置的标识符，开发者不能定义和关键字相同的标识符，而保留字是 Python 已经内置的标识符，但还没有投入使用的标识符
:::

## 变量

Python 是一个弱类型语言所以不需要显示的声明变量的数据类型，变量名必须符合标识符规范，并且变量的数据类型是可以随意改变的

可以通过 `=` 来给变量赋值

```python
foo = 3
foo = "jqiue"
```

### 链式赋值

链式赋值可以为多个变量同时赋予相同的值

```python
foo = bar = quz = 33
```

### 解包赋值

解包赋值可以为按照一定的序列为变量赋值，可以赋予不同的数据类型

```python
foo, bar = 33, "jqiue"
```

## 数据类型

Python 为不同的数据划分了不同的数据类型，Python 只会在运行的时候确定数据的类型

### 基本数据类型

1. 整型
2. 浮点
3. 布尔

::: tip 数字分隔符
Python 为了提高数字的可读性，允许使用下划线`_`来分割数字（整数或小数），通常每三个数字添加一个下划线，下划线并不会影响数字本身的值

```python
foo = 8_848_838
```

:::

::: tip 数字的进制表示
Python 同样支持多种进制来表示整数

1. 十进制：由 0 ~ 9 共十个数字排列组合而成
2. 二进制：由 0 和 1 组成，以`0b`或`0B`开头
3. 八进制：由 0 ~ 7 八位数字组成，以`0o`或`0O`开头
4. 十六进制：由 0 ~ 9 和 A ~ F（a ~ f）组成，以`0x`或`0X`开头
:::

::: tip 非 0 都是真
在逻辑运算中，任何非 0 的值都会被当成 True，反之都是 False
:::

::: tip 不同类型数据之间的计算
数值类型之间可以直接计算，如果是`bool`，会被转换成`1`或`0`来计算
:::

### 高级数据类型

1. 字符串
2. 列表
3. 元组
4. 字典
5. 集合

### 类型检测

Python 提供了内置函数 `type()` 来检测数据类型

```python
type(8) # int
type(8.8) # float
type(True) # bool
type("jqiue") # str
```

### 类型转换

Python 提供了很多函数用于转换数据类型

函数|说明
---|---
int(x)|将 x 转换成整数
float(x)|将 x 转换成浮点数
str(x)|将 x 转换成字符串

## 流程控制

流程控制用来控制整个程序的语句执行步骤，python 中只有**顺序结构**，**分支结构**，**循环结构**这三种执行顺序

1. 顺序结构，从上至下的顺序依次执行语句
2. 分支结构，根据条件判断是否执行语句
3. 循环结构，重复执行指定的语句块

### 分支

+ 单分支

通过 if 关键字来定义，条件满足则执行缩进代码块中的语句

```python
age = int(input("请输入你的年龄："))
if age >= 18:
    print("你已经成年啦！")
```

+ 双分支

通过 else 关键字与 if 匹配，如果 if 条件不满足，则执行 else 代码中的语句，且 else 不需要判断条件

```python
age = int(input("请输入你的年龄："))
if age >= 18:
    print("你已经成年啦！")
else:
    print("你还没成年呢！")
```

+ 多分支

如果想要每一个分支都判断条件，则使用 elif 关键字

```python
score = int(input("请输入你的分数："))
if score >= 90:
    print("优秀")
elif score >= 80:
    print("良好")
elif score >= 60:
    print("及格")
else:
    print("不及格")
```

### 循环

+ while

while 常用于已知的循环次数

如果想要打印 5 遍：`hello,world!`，如果不用循环：

```python
print("hello,world!")
print("hello,world!")
print("hello,world!")
print("hello,world!")
print("hello,world!")
```

如果要打印 100 遍，还需要这个写法吗，而用 while 就可以这么写：

```python
i = 0
while i < 100:
   print("hello,world!")
   i = i + 1
```

循环一定要有终止条件，否则会导致死循环产生

::: tip 死循环
即开发人员忘记修改循环体内的判断条件，导致循环一直执行，程序无法终止
:::

+ for

for 常用于一些可迭代类型的循环遍历，比如字符串、列表、元组、字典等，常和 in 关键字搭配使用，并指明一个变量接受数据

```python
for 迭代变量 in 迭代对象:
    代码块
```

### 循环打断

有时候不需要循环到一定次数才终止，所以需要手动取终止循环，Python 提供了两种打断方式：

+ 当遇到`break`语句时，立即退出循环，不继续下一次循环
+ 当遇到`continue`语句时，立即退出当前次循环，继续下一次循环

::: tip
对于这些结构来说都可以嵌套使用
:::

## 运算符

### 算数运算

它和数学中的运算符基本一致，用来处理数值之间的运算，不仅如此 Python 专门对除法规定了其他的运算符

运算符|描述|例子
---|---|---
+|加|1 + 2 =3
-|减|3 -2 = 1
/|不整除| 3 / 2 = 1.5
//|整除| 3 / 2 = 1
%|取余| 3 / 2 = 1
\*\*|幂（乘方）| 2 \*\* 3 = 8

算数运算符的优先级和数学中是一致的

### 比较运算

运算符|描述
---|---
==|判断两个操作数是否相等，如果相等返回 true，否则 false
!=|判断两个操作数是否不相等，如果不相等返回 true，否则 false
>|判断左操作数是否大于右操作数，如果大于返回 true，否则 false
<|判断左操作数是否小于右操作数，如果小于返回 true，否则 false
>=|判断左操作数是否大于等于右操作数，如果大于返回 true，否则 false
<=|判断左操作数是否小于等于右操作数，如果大于返回 true，否则 false

比较运算符无需死记硬背，用多了自然就记住了

### 逻辑运算

在判断条件的时候，可能需要同时判断多个条件，这个时候就需要借助逻辑运算符的帮助，逻辑运算符会把多个条件按照逻辑进行连接，构成更复杂的条件

+ and 运算符也叫与运算符，只有条件都满足时才会返回 True
+ or 运算符也叫或运算符，只要有一个条件满足就会返回 True
+ not 运算符也叫非运算符，通常会将运算后的结果进行取反，比如将 True 变为 False

### 赋值运算

虽然 `=` 可以给变量赋值，但是为了更加简化赋值的操作，Python 提供了与算术运算符相关的赋值运算符

运算符|描述
---|---
+=|将左操作数和右操作数相加再赋值给左边
-=|将左操作数和右操作数相减再赋值给左边
*=|将左操作数和右操作数相乘再赋值给左边
/=|将左操作数和右操作数相除再赋值给左边
//=|将左操作数和右操作数整除再赋值给左边
%=|将左操作数和右操作数取余再赋值给左边
**=|将左操作数和右操作数进行乘方再赋值给左边

::: tip
这些赋值运算符中间不能有空格
:::

### 其他操作符

+ in：in会判断左操作数是否存在迭代元素中，存在返回 True，否则 False
+ not in：判断左操作数是否不存在迭代元素中，不存在返回 True，否则 False
+ +：连接两个序列，`"hello" + "world"` = `"helloworld"`
+ *：将序列按照一定次数重复拼接，`"hello" * 3` = `"hellohellohello"`
+ []：切片操作符

## 函数

函数就是将一些代码块封装成一个模块，在需要使用的时候调用，函数又分为内置函数和自定义函数，内置函数是 Python 提供的函数，直接给开发者调用，但有时候内置函数无法满足开发者的功能需求，因此就需要开发者自定义函数的功能

### 函数的定义

通过 def 关键字来定义一个函数

```python
def 函数名():
    语句1
    语句2
    .....
```

定义函数必须主动调用函数，否则函数是不会主动执行的，下面看一个例子：

```python
def sayHello():
    print("Hello World")

sayHello()
```

函数也不是从天而降的，必须先定义后使用，包括 Python 内置的函数都是人为定义的，只是供开发者调用而已，由于 Python 的解释器是从上到下依次执行的，所以函数的声明必须写在调用前面，否则会发生错误

## 函数的参数

如果有一个函数功能是实现**两个数字的求和**

```python
def sum():
    num1 = 3
    num2 = 4
    print("{} + {} = {}".format(num1, num2, num1 + num2))
sum()
```

会发现这个函数只能算`3 + 4`的和，连`1 + 1`都算不出来有屌用？

这个时候就要在调用函数的时候下功夫，动态的给函数传数据不就解决了？

因此只要在定义函数的时候定义参数变量接收，在调用的时候传入即可

```python
def sum(num1, num2):
    print("{} + {} = {}".format(num1, num2, num1 + num2))
sum(1, 1)
```

这样做会让函数变得非常灵活，在函数后面的括号内定义参数，多个参数以逗号分隔，传入的时候可以按照顺序传入，也可以指定参数传入

+ 形参：定义函数时定义的变量就叫形参
+ 实参：调用函数时传入的数据就叫实参

## 函数的返回值

返回值是函数返回给调用者的一个值，也就是函数执行接收返回的结果，在 Python 中通过关键字`return`来返回结果

```python
def sum(num1, num2):
    return "{} + {} = {}".format(num1, num2, num1 + num2)
print(sum(1, 1))
```

将上述例子改造一下，就能发现`return`能够返回一个结果，函数调用时等同于一个表达式具有结果

::: danger
当函数中执行到`return`关键字时整个函数会立即结束，不会执行后续的代码
:::

## 函数和方法的区别

函数和方法本质上是一个东西，都是封装了独立的功能模块，区别在于方法是针对某个对象做的操作，通过`.`来调用
