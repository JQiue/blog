---
title: 浮动流
category: 前端
tag: CSS
author: JQiue
---

float属性是css最令人意外的属性，它的设计初衷只是用来实现文字环绕图片的效果，浮动流是一种“半脱离标准流”的排版方式，它只有水平排版这一种方式，它只能设置某个元素左对齐或右对齐，浮动流中是没有居中对齐的，同时也不能使用margin: 0 auto来实现居中对齐，同时它不区分块级元素/行内元素/行内块级元素，并且都可以设置宽高

## 浮动流的脱标

脱标即脱离标准流，当某一个元素浮动之后，这个元素看起来像是在标准流中删除了一样，如果前面的元素没有浮动，而后面的元素浮动了，这个时候后面的元素可以覆盖前面的元素，就说明了浮动流元素已经和标准流没有了任何关联，因此就不会占用了标准流的位置

![脱标](https://gitee.com/jqiue/img_upload/raw/master/images/647982-b2e928fbc09be335.png)

## 浮动流的贴靠

前提知道的是，当浮动元素水平方向移动时，如果碰到含有边框或者另一个浮动元素就会停止移动，并贴靠在旁边，但是如果父元素的宽度不能够显示所有的浮动元素，那么会从最后一个元素开始贴靠，如果都不能显示，将会紧贴父元素的左边或者右边

![贴靠](https://gitee.com/jqiue/img_upload/raw/master/images/647982-696fc995e5ab5307.png)

## 清除浮动

浮动元素会造成父元素高度坍塌的问题，这是因为浮动元素脱离了标准流，导致父元素无法检测到子元素而无法撑开高度，这时候可以给父元素添加属性触发BFC：

1. overflow：hidden
2. display：table-cell
3. display：block
4. positon：fixed
5. postion：absolute
6. ...

由于触发了BFC，那么这个容器就是页面上完全独立的容器，为了不影响其他元素的布局，为了保证这个规则，会让子元素一起参与计算高度，变相的实现清除内部浮动的目的，但是有时候出于布局需要也有可能无法使用这些属性

解决高度坍塌常用的还有以下几种办法：

1. 让父元素也浮动起来，这样父元素也脱离了文档流，父元素就能自适应子元素的高度，有点事代码量极少，缺点是将错就错的办法，会影响父元素之后的其他元素排列问题
2. 给父元素添加固定高度，这个方法只适用于已知子元素高度的情况，缺点是不够灵活，难以维护
3. 在浮动的子元素后面添加一个空元素设置`clear:both`，简单易懂，容易掌握，缺点是增加无意义的标签，不利于以后维护
4. 为浮动最后一个子元素设置为元素`::after{clear:both}`，这里是用伪类替代了空元素，优点是结构和语义完全正确，缺点是会导致代码量增加
